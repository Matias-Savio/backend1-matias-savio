<h1>Real Time Products</h1>
<form id="addForm">
  <input name="title" placeholder="Title" required />
  <input name="description" placeholder="Description" required />
  <input name="price" type="number" placeholder="Price" required />
  <input name="code" placeholder="Code" required />
  <input name="stock" type="number" placeholder="Stock" required />
  <input name="category" placeholder="Category" required />
  <button type="submit">Add product</button>
</form>

<ul id="productsList">
  {{#each products}}
    <li data-id="{{this.id}}">
      {{this.title}}
      -
      {{this.price}}
      <button class="deleteBtn">Eliminar</button>
    </li>
  {{/each}}
</ul>

<script src="/socket.io/socket.io.js"></script>
<script>
  const socket = io(); const productsList =
  document.getElementById('productsList'); function renderList(products) {
  productsList.innerHTML = ''; products.forEach(p => { const li =
  document.createElement('li'); li.dataset.id = p.id; li.textContent =
  `${p.title} - ${p.price}`; const btn = document.createElement('button');
  btn.textContent = 'Eliminar'; btn.onclick = () => socket.emit('deleteProduct',
  p.id); li.appendChild(btn); productsList.appendChild(li); }); }
  socket.on('updateProducts', (products) => { renderList(products); });
  document.getElementById('addForm').addEventListener('submit', e => {
  e.preventDefault(); const form = e.target; const newProd = { title:
  form.title.value, description: form.description.value, price:
  Number(form.price.value), code: form.code.value, status: true, stock:
  Number(form.stock.value), category: form.category.value, thumbnails: [] };
  socket.emit('addProduct', newProd); form.reset(); });
</script>